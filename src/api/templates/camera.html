{% extends "template.html" %}

<head>
    {% block title %}
    <title>{{lang.get('title')}}</title>
    {% endblock %}
</head>

{% block header %}
<h1>{{lang.get('title')}}</h1>
{% endblock %}

{% block content %}

<section class="status">
    <h2>{{lang.get('status')}}</h2>
    <p><strong>Conexión:</strong>
        {% if cameraBool %}
        <span class="green">Activa</span>
    </p>
    {% else %}
    <span class="red">Inactiva</span></p>
    {% endif %}
    <p><strong>Última actualización:</strong> 09/05/2025 12:30</p>
</section>

<section class="camera">
    <h2> {{lang.get('video_actual')}} </h2>
    <button class="btn" id="btnWatch" onclick="toggleVideo()">{{lang.get('ver_camara')}}</button>
    <div>
        <!-- Only visible if the camera is the button is pressed -->
        <img src="{{ url_for('camera_stream') }}" id="video-stream" alt="video-from-camera" style="display: none;">
        <img src="{{ url_for('static', filename='img/camera.png') }}" id="icon-stream" alt="icon-for-camera">
    </div>
</section>

<section class="results">
    <h2>Resultados recientes</h2>
    {# Agarra el Python para ver los resultados. #}

    <div class="scan-result">
        Botella escaneada a las {{hora}} → <span class="green">Correcta</span>
    </div>

    <div class="scan-result">
        Botella escaneada a las 12:28 → <span class="green">Correcta</span>
    </div>
    <div class="scan-result">
        Botella escaneada a las 12:25 → <span class="yellow">Botella reconocida</span>
    </div>
    <div class="scan-result">
        Botella escaneada a las 12:22 → <span class="green">Correcta</span>
    </div>
</section>

<section class="controls">
    <h2>Controles</h2>
    <a href="/video">
        <button class="btn">Iniciar escaneo manual</button>
    </a>

    <button class="btn" onclick="restart()">Reiniciar máquina</button>
</section>

{% endblock %}